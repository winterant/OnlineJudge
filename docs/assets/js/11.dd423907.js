(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{301:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"é…ç½®ä»£ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ä»£ç†"}},[s._v("#")]),s._v(" é…ç½®ä»£ç†")]),s._v(" "),t("p",[s._v("ç½‘é¡µç«¯é»˜è®¤æš´éœ²80ç«¯å£ï¼Œå¹¶é€šè¿‡é…ç½®æ–‡ä»¶"),t("code",[s._v("docker-compose.yml")]),s._v("æ˜ å°„åˆ°å®¿ä¸»æœº8080ç«¯å£ã€‚\nä½ å¯ä»¥åœ¨å®¿ä¸»æœºé…ç½®ç½‘ç»œä»£ç†ï¼Œä»¥å®ç°åŸŸåè®¿é—®ï¼Œä»¥åŠhttpsè¯ä¹¦é…ç½®ã€‚")]),s._v(" "),t("h2",{attrs:{id:"ğŸ“¡-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¡-nginx"}},[s._v("#")]),s._v(" ğŸ“¡ nginx")]),s._v(" "),t("h3",{attrs:{id:"å®‰è£…nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…nginx"}},[s._v("#")]),s._v(" å®‰è£…nginx")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" nginx\n")])])]),t("p",[t("code",[s._v("nginx")]),s._v("é»˜è®¤è‡ªå¸¦80ç«¯å£é…ç½®æ–‡ä»¶ï¼Œä¸ºé¿å…å†²çªï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥åˆ é™¤å®ƒ")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /etc/nginx/sites-enabled/default\n")])])]),t("h3",{attrs:{id:"ä»¥httpæ–¹å¼é…ç½®åŸŸå"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥httpæ–¹å¼é…ç½®åŸŸå"}},[s._v("#")]),s._v(" ä»¥httpæ–¹å¼é…ç½®åŸŸå")]),s._v(" "),t("ol",[t("li",[s._v("åˆ›å»ºå¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/nginx/conf.d/lduoj-http.conf\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("è¾“å…¥å†…å®¹")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("server {\n    listen 80;\n    server_name www.lduoj.com;  # è¯·æ›¿æ¢ä¸ºä½ çš„åŸŸå\n\n    client_max_body_size 64m;   # è¯·æ±‚ä½“å¤§å°ä¸Šé™\n\n    location / {\n        proxy_pass http://127.0.0.1:8080/;  # ä»£ç†webç«¯å£\n        proxy_redirect off;\n        proxy_set_header Host $host;  # è‹¥ç›‘å¬é80ç«¯å£,è¯·æ”¹ä¸º$host:$server_port\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    }\n}\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("æŒ‰"),t("code",[s._v("ESC")]),s._v("é”®ï¼Œè¾“å…¥"),t("code",[s._v(":wq")]),s._v("å¹¶ä¼šè½¦ï¼Œå³å¯ä¿å­˜é…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),t("li",[s._v("é‡å¯nginxä½¿é…ç½®ç”Ÿæ•ˆ")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart nginx\n")])])]),t("h3",{attrs:{id:"ä»¥httpsæ–¹å¼é…ç½®è¯ä¹¦å’ŒåŸŸå"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥httpsæ–¹å¼é…ç½®è¯ä¹¦å’ŒåŸŸå"}},[s._v("#")]),s._v(" ä»¥httpsæ–¹å¼é…ç½®è¯ä¹¦å’ŒåŸŸå")]),s._v(" "),t("ol",[t("li",[s._v("åˆ›å»ºå¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/nginx/conf.d/lduoj-https.conf\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("è¾“å…¥å†…å®¹")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("server{\n    listen 80;\n    server_name lduoj.com;\n    rewrite ^(.*)$  https://$host$1 permanent;  # å¼ºåˆ¶httpè½¬https\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name www.lduoj.com;  # è¯·æ›¿æ¢ä¸ºä½ çš„åŸŸå\n\n    client_max_body_size 64m;   # è¯·æ±‚ä½“å¤§å°ä¸Šé™\n\n    # sslçš„ä¸€äº›é…ç½®\n    ssl_certificate conf.d/fullchain.crt;   # è¯·åŠ¡å¿…æ›¿æ¢æˆä½ çš„sslè¯ä¹¦è·¯å¾„,ç›¸å¯¹äº/etc/nginx/\n    ssl_certificate_key conf.d/private.pem; # åŒä¸Š\n    ssl_protocols TLSv1.1 TLSv1.2;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\n    ssl_prefer_server_ciphers on;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 10m;\n\n    location / {\n        proxy_pass http://127.0.0.1:8080/;\n        proxy_redirect off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("æŒ‰"),t("code",[s._v("ESC")]),s._v("é”®ï¼Œè¾“å…¥"),t("code",[s._v(":wq")]),s._v("å¹¶ä¼šè½¦ï¼Œå³å¯ä¿å­˜é…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),t("li",[s._v("é‡å¯nginxä½¿é…ç½®ç”Ÿæ•ˆ")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart nginx\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);